{"ast":null,"code":"import _regeneratorRuntime from\"/Users/desireelagerquist/Documents/Coding/BCS/projects/thepantryapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/desireelagerquist/Documents/Coding/BCS/projects/thepantryapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/desireelagerquist/Documents/Coding/BCS/projects/thepantryapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{NavLink}from'react-router-dom';import{useState}from'react';import axios from'axios';import{URL}from'../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NavBar(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"\".concat(URL,\"/user/login\"),{email:email,password:password});case 4:res=_context.sent;console.log(res);setMessage(res.data.message);setTimeout(function(){res.data.ok&&props.login(res.data.token,res.data.user);},2000);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();var handleLogout=function handleLogout(e){e.preventDefault();props.logout();setMessage('');};return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(NavLink,{exact:\"true\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/logo.jpeg\",alt:\"black and white logo with letters p and a\",className:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"p\",{className:\"catchphrase\",children:\"What's cookin' good lookin'?\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:'center'},children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"menulinks\",children:\"Home\"}),/*#__PURE__*/_jsx(NavLink,{to:\"recipes\",className:\"menulinks\",children:\"Recipes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"chef's hat icon\",className:\"profileicon\",src:props.isLoggedIn?'li-user2.png':'lo-user.png',onClick:function onClick(){return setIsOpen(!isOpen);}}),/*#__PURE__*/_jsx(\"nav\",{children:isOpen&&(!props.isLoggedIn?/*#__PURE__*/_jsxs(\"form\",{className:\"loginmenu\",onMouseLeave:function onMouseLeave(){return setIsOpen(false);},onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{style:{margin:'5px 0px'},children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(NavLink,{to:\"/register\",id:\"registerlink\",children:\"Register\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogout,className:\"isloggedinmenu\",onMouseLeave:function onMouseLeave(){return setIsOpen(false);},children:[/*#__PURE__*/_jsx(NavLink,{to:\"/profile\",style:{textDecoration:'none',color:'#4d74c7',padding:'5px 0px'},children:\"Profile\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/pantry\",style:{textDecoration:'none',color:'#4d74c7',padding:'5px 0px'},children:\"Pantry\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/yourrecipes\",style:{textDecoration:'none',color:'#4d74c7',padding:'5px 0px'},children:\"Your Recipes\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/editprofile\",style:{textDecoration:'none',color:'#4d74c7',padding:'5px 0px'},children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Logout\"})]}))})]})]});}","map":{"version":3,"names":["NavLink","useState","axios","URL","jsx","_jsx","jsxs","_jsxs","NavBar","props","_useState","_useState2","_slicedToArray","isOpen","setIsOpen","_useState3","_useState4","message","setMessage","_useState5","_useState6","email","setEmail","_useState7","_useState8","password","setPassword","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","wrap","_callee$","_context","prev","next","preventDefault","post","concat","sent","console","log","data","setTimeout","ok","login","token","user","t0","error","stop","_x","apply","arguments","handleLogout","logout","children","exact","to","src","alt","className","style","display","flexDirection","justifyContent","isLoggedIn","onClick","onMouseLeave","onSubmit","type","onChange","target","value","margin","id","textDecoration","color","padding"],"sources":["/Users/desireelagerquist/Documents/Coding/BCS/projects/thepantryapp/src/components/NavBar.js"],"sourcesContent":["import { NavLink } from 'react-router-dom'\nimport { useState } from 'react'\nimport axios from 'axios'\nimport { URL } from '../config'\n\n\n\nexport default function NavBar(props) {\n\n    const [isOpen, setIsOpen] = useState(false)\n    const [message, setMessage] = useState('')\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n\n    const handleLogin = async (e) => {\n        e.preventDefault()\n        try {\n            const res = await axios.post(`${URL}/user/login`, { email, password })\n            console.log(res)\n            setMessage(res.data.message)\n            setTimeout(() => {\n                res.data.ok && props.login(res.data.token, res.data.user)\n            }, 2000)\n        } catch (err) {\n            console.error(err)\n        }\n    }\n    const handleLogout = (e) => {\n        e.preventDefault() \n        props.logout()\n        setMessage('')\n    }\n\n    return <header>\n        <NavLink\n            exact='true'\n            to='/'\n        >\n            <img src='/logo.jpeg'\n                alt='black and white logo with letters p and a'\n                className='logo' />\n        </NavLink>\n        <div style={{ display: \"flex\", flexDirection: 'column' }}>\n            <p className='catchphrase'>What's cookin' good lookin'?</p>\n            <div style={{ display: \"flex\", justifyContent: 'center' }}>\n                <NavLink\n                    to='/'\n                    className='menulinks'>\n                    Home\n                </NavLink>\n                <NavLink\n                    to='recipes'\n                    className='menulinks'>\n                    Recipes\n                </NavLink>\n            </div>\n        </div>\n\n        <div className='menu-wrapper'>\n            <img alt=\"chef's hat icon\"\n                className='profileicon'\n                src={props.isLoggedIn ? 'li-user2.png' : 'lo-user.png'}\n                onClick={() => setIsOpen(!isOpen)} />\n\n            <nav>\n                {isOpen &&\n                    (!props.isLoggedIn ?\n                        <form\n                            className='loginmenu'\n                            onMouseLeave={() => setIsOpen(false)}\n                            onSubmit={handleLogin}>\n\n                            <label>Email</label>\n                            <input type='email' onChange={(e) => setEmail(e.target.value)}/>\n                            <label>Password</label>\n                            <input type='password' onChange={(e) => setPassword(e.target.value)}/>\n                            <button\n                                style={{ margin: '5px 0px' }}>Submit</button>\n                                <p>{message}</p>\n                            <NavLink to='/register' id='registerlink'>Register</NavLink>\n                        </form> :\n                        <form\n                            onSubmit={handleLogout}\n                            className='isloggedinmenu'\n                            onMouseLeave={() => setIsOpen(false)}>\n                            <NavLink to='/profile' style={{ textDecoration: 'none', color: '#4d74c7', padding: '5px 0px' }}>Profile</NavLink>\n                            <NavLink to='/pantry' style={{ textDecoration: 'none', color: '#4d74c7', padding: '5px 0px' }}>Pantry</NavLink>\n                            <NavLink to='/yourrecipes' style={{ textDecoration: 'none', color: '#4d74c7', padding: '5px 0px' }}>Your Recipes</NavLink>\n                            <NavLink to='/editprofile' style={{ textDecoration: 'none', color: '#4d74c7', padding: '5px 0px' }}>Edit Profile</NavLink>\n                            <button>Logout</button>\n                        </form>)}\n            </nav>\n        </div>\n    </header>\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}