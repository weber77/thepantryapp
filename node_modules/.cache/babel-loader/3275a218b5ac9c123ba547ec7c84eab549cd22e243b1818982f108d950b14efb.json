{"ast":null,"code":"import _regeneratorRuntime from\"/Users/desireelagerquist/Documents/Coding/BCS/projects/thepantryapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/desireelagerquist/Documents/Coding/BCS/projects/thepantryapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/desireelagerquist/Documents/Coding/BCS/projects/thepantryapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import{useState}from'react';import{URL}from'../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password2=_useState6[0],setPassword2=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"\".concat(URL,\"/user/register\"),{email:email,password:password,password2:password2});case 4:res=_context.sent;console.log(res);setMessage(res.data.message);setTimeout(function(){res.data.ok&&props.login(res.data.token,res.data.user);},2000);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"registrationpage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup\",children:[\"You're so close!\",/*#__PURE__*/_jsx(\"p\",{children:\"Just one more click \"}),/*#__PURE__*/_jsx(\"p\",{children:\"to add some spice\"}),/*#__PURE__*/_jsx(\"p\",{children:\"to your life.\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"registerform\",onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",onChange:function onChange(e){return setPassword2(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{children:message})]})})]});}","map":{"version":3,"names":["axios","useState","URL","jsx","_jsx","jsxs","_jsxs","Register","props","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","password2","setPassword2","_useState7","_useState8","message","setMessage","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","wrap","_callee$","_context","prev","next","preventDefault","post","concat","sent","console","log","data","setTimeout","ok","login","token","user","t0","error","stop","_x","apply","arguments","className","children","onSubmit","name","onChange","target","value","type"],"sources":["/Users/desireelagerquist/Documents/Coding/BCS/projects/thepantryapp/src/views/Register.js"],"sourcesContent":["import axios from 'axios';\nimport { useState } from 'react';\nimport { URL } from '../config'\n\n\nexport default function Register(props) {\n\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [password2, setPassword2] = useState('')\n    const [message, setMessage] = useState('')\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        try {\n            const res = await axios.post(`${URL}/user/register`, { email, password, password2 })\n            console.log(res)\n            setMessage(res.data.message)\n            setTimeout(() => {\n                res.data.ok && props.login(res.data.token, res.data.user)\n            }, 2000)\n        } catch (err) {\n            console.error(err)\n        }\n    }\n\n\n    return <div className='registrationpage'>\n        <div className='signup'>You're so close!\n            <p>Just one more click </p>\n            <p>to add some spice</p>\n            <p>to your life.</p>\n            \n        </div>\n        \n        <div>\n            <form className='registerform' onSubmit={(e) => handleSubmit(e)}>\n                <h1>Create Account</h1>\n                <label>Email</label>\n                <input name='email' onChange={(e) => setEmail(e.target.value)} />\n                <br />\n                <label>Password</label>\n                <input type='password' name='password' onChange={(e) => setPassword(e.target.value)} />\n                <br />\n                <label>Confirm Password</label>\n                <input type='password' name='password2' onChange={(e) => setPassword2(e.target.value)} />\n                <br />\n                <button>Register</button>\n            \n                <p>{message}</p>\n            </form>\n        </div>\n    </div>\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}